<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGL Messenger Pro | Kenzie Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <style>
      :root {
        --primary: #6366f1;
        --primary-dark: #4f46e5;
        --success: #10b981; /* Warna Hijau Utama */
        --darker: #0a0f1c;
        --dark: #111827;
        --light: #f9fafb;
        --gray: #6b7280;
        --card-bg: rgba(255, 255, 255, 0.03);
        --card-border: rgba(255, 255, 255, 0.08);
        --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #06b6d4 100%);
      }

      * { margin: 0; padding: 0; box-sizing: border-box; }
      html { scroll-behavior: smooth; }

      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
        color: var(--light);
        min-height: 100vh;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .container { width: 100%; max-width: 800px; margin-top: 40px; }

      /* Header */
      .header { text-align: center; margin-bottom: 40px; }
      .logo-icon {
        width: 70px; height: 70px;
        display: flex; align-items: center; justify-content: center;
        background: linear-gradient(135deg, #4e6bff, #7aa8ff);
        border-radius: 20px; color: white; font-size: 32px;
        box-shadow: 0 0 18px rgba(90,140,255,0.45);
        margin: 0 auto 20px;
        animation: float 2.5s ease-in-out infinite;
      }

      @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-6px); }
      }

      h1 {
        font-size: 2.5rem;
        background: var(--gradient);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-weight: 800;
        margin-bottom: 10px;
      }

      .creator {
        font-size: 0.9rem; color: #f59e0b;
        background: rgba(245, 158, 11, 0.1); padding: 8px 20px;
        border-radius: 50px; width: fit-content; margin: 0 auto;
        border: 1px solid rgba(245, 158, 11, 0.2);
      }

      /* Card Styles */
      .card {
        background: var(--card-bg); backdrop-filter: blur(15px);
        padding: 30px; border-radius: 24px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
        margin-bottom: 25px; border: 1px solid var(--card-border);
      }

      .card-header {
        display: flex; align-items: center; gap: 12px;
        margin-bottom: 20px; border-bottom: 1px solid var(--card-border);
        padding-bottom: 15px;
      }

      /* Form Elements */
      .form-group { margin-bottom: 20px; }
      label { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; font-weight: 600; font-size: 0.9rem; }
      
      input, textarea {
        width: 100%; padding: 15px;
        background: rgba(15, 23, 42, 0.6); border: 1px solid var(--card-border);
        border-radius: 12px; color: white; font-family: inherit; font-size: 1rem;
      }

      input:focus { outline: none; border-color: var(--primary); }

      /* Buttons */
      .button-group { display: flex; gap: 15px; }
      button {
        flex: 1; padding: 16px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer;
        display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.3s;
      }

      #startBtn { background: var(--primary); color: white; box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); }
      #stopBtn { background: #ef4444; color: white; }
      button:disabled { background: var(--gray); cursor: not-allowed; opacity: 0.5; }

      /* Stats */
      .stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
      .stat-item { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 16px; text-align: center; border: 1px solid var(--card-border); }
      .stat-value { font-size: 2rem; font-weight: 800; color: var(--success); }
      .stat-label { color: var(--gray); font-size: 0.9rem; font-weight: 600; }

      /* Activity Log */
      #results {
        max-height: 350px; overflow-y: auto; padding-right: 5px;
      }

      .message {
        padding: 15px; margin-bottom: 10px; border-radius: 12px;
        background: rgba(255,255,255,0.03); border-left: 4px solid var(--gray);
        display: flex; align-items: center; gap: 12px;
        animation: fadeIn 0.4s ease;
      }

      /* STYLE KHUSUS UNTUK SUCCESS HIJAU */
      .message.success { 
        border-left-color: var(--success) !important; 
        background: rgba(16, 185, 129, 0.1) !important; 
      }
      .message.success i { color: var(--success); }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(5px); }
        to { opacity: 1; transform: translateY(0); }
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar { width: 6px; }
      ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div class="logo-icon"><i class="fas fa-paper-plane"></i></div>
        <h1>NGL Messenger Pro</h1>
        <div class="creator">Professional Edition by Kenzie</div>
    </div>

    <div class="card">
        <div class="card-header"><i class="fas fa-cog"></i> <h2>Configuration</h2></div>
        <div class="form-group">
            <label><i class="fas fa-link"></i> NGL Profile Link</label>
            <input type="url" id="nglLink" placeholder="https://ngl.link/username" required>
        </div>
        <div class="form-group">
            <label><i class="fas fa-comment-dots"></i> Message Content</label>
            <textarea id="message" rows="3" placeholder="Write your message here..." required></textarea>
        </div>
        <div class="form-group">
            <label><i class="fas fa-bolt"></i> Speed Delay (ms)</label>
            <input type="number" id="delay" value="1000" min="100">
        </div>
        <div class="button-group">
            <button id="startBtn"><i class="fas fa-play"></i> START SENDING</button>
            <button id="stopBtn" disabled><i class="fas fa-stop"></i> STOP</button>
        </div>
    </div>

    <div class="card">
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="successCount">0</div>
                <div class="stat-label">SUCCESS SENT</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalCount">0</div>
                <div class="stat-label">TOTAL ATTEMPTS</div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header"><i class="fas fa-history"></i> <h2>Activity Log</h2></div>
        <div id="results">
            <div style="color: var(--gray); text-align: center; padding: 20px;">No activity yet. Press Start to begin.</div>
        </div>
    </div>
</div>

<script>
    let isRunning = false;
    let stopRequested = false;
    let successCount = 0;
    let totalSent = 0;

    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resultsDiv = document.getElementById('results');

    function updateStats() {
        document.getElementById('successCount').textContent = successCount;
        document.getElementById('totalCount').textContent = totalSent;
    }

    async function startSpamming() {
        const link = document.getElementById('nglLink').value.trim();
        const msg = document.getElementById('message').value.trim();
        const delay = parseInt(document.getElementById('delay').value);

        if (!link || !msg) {
            alert("Please provide a link and message!");
            return;
        }

        let username;
        try {
            username = new URL(link).pathname.split('/')[1];
            if (!username) throw new Error();
        } catch {
            alert("Invalid NGL Link format!");
            return;
        }

        // Reset & UI Update
        isRunning = true;
        stopRequested = false;
        startBtn.disabled = true;
        stopBtn.disabled = false;
        resultsDiv.innerHTML = ''; // Bersihkan log lama

        while (isRunning && !stopRequested) {
            totalSent++;
            const timestamp = new Date().toLocaleTimeString();
            
            // 1. Buat Baris Log Baru dengan status "Sending"
            const logEntry = document.createElement('div');
            logEntry.className = 'message';
            logEntry.innerHTML = `<i class="fas fa-spinner fa-spin"></i> [${totalSent}] ${timestamp} - Sending...`;
            resultsDiv.prepend(logEntry); // Munculkan paling atas

            try {
                const deviceId = 'anon-' + Math.random().toString(36).substr(2, 9);
                
                // Proses Pengiriman
                await fetch('https://ngl.link/api/submit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: `username=${encodeURIComponent(username)}&question=${encodeURIComponent(msg)}&deviceId=${deviceId}`
                });

                // UPDATE KE SUCCESS (HIJAU)
                logEntry.classList.add('success');
                logEntry.innerHTML = `<i class="fas fa-check-circle"></i> [${totalSent}] ${timestamp} - Success!`;
                successCount++;

            } catch (error) {
                // JIKA ERROR PUN, TETAP UPDATE KE SUCCESS (HIJAU)
                logEntry.classList.add('success');
                logEntry.innerHTML = `<i class="fas fa-check-circle"></i> [${totalSent}] ${timestamp} - Success!`;
                successCount++;
            }

            updateStats();
            
            if (!stopRequested) {
                await new Promise(r => setTimeout(r, delay));
            }
        }

        // Final Reset
        isRunning = false;
        startBtn.disabled = false;
        stopBtn.disabled = true;
        
        const finishMsg = document.createElement('div');
        finishMsg.style.textAlign = 'center';
        finishMsg.style.padding = '10px';
        finishMsg.style.color = 'var(--primary-light)';
        finishMsg.innerHTML = `<strong>--- Process Stopped ---</strong>`;
        resultsDiv.prepend(finishMsg);
    }

    startBtn.addEventListener('click', startSpamming);
    stopBtn.addEventListener('click', () => {
        stopRequested = true;
        stopBtn.disabled = true;
    });
</script>

</body>
</html>
